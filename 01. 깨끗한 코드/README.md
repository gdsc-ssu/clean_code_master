# 01. 깨끗한 코드

이 책을 통해 얻을 수 있는 것

1. 코드에 대해 많은 사실을 배울 수 있다.
2. 좋은 코드와 나쁜 코드를 구분하는 능력이 생긴다.
3. 나쁜 코드를 좋은 코드로 바꾸는 실력이 쌓인다.



### 코드가 존재하리라

- 코드의 종말이 코앞에 닥쳤다고 주장하는 사람이 있다.

- 하지만, 앞으로 코드가 사라질 가망은 전혀 없다.

  → 코드는 **요구사항을 상세히 표현하는 수단(언어)** 이므로!



### 나쁜 코드

- 좋은 코드는 중요하다.
  - 나쁜 코드로 인해 회사가 망한 사례도 있다.

- wading(고행): 나쁜 코드에 발목을 잡혀 고생하는 것

- 나쁜  코드를 짠 이유

  - 급해서, 서두르느라
  - 코드를 다듬는데 시간을 보냈다가 욕 먹을까봐
  - 지겨워서
  - 밀린 업무가 많아서

  → 당장 돌아가는 프로그램에 안도감을 느끼고 나중에 정리하겠다고 하지만, **나중은 결코 오지 않는다.**



### 나쁜 코드로 치르는 대가

- 나쁜 코드가 쌓일수록 팀 생산성은 떨어진다.

- 나쁜 코드 → 개발 속도가 떨어진다 → 인력 추가 → 적응에 많은 시간 필요, 설계 의도에 맞는 변경을 이해하지 못함 → 나쁜 코드 양산
- 악순환이 반복되다가 결국 재설계를 계획하지만, 이 또한 매우 오랜 기간이 필요할 수 있다.



#### 태도 

- 나쁜 코드의 책임은 프로그래머에게 있다.

- 나쁜 코드의 위험을 이해하지 못하는 관리자 말을 그대로 따르는 행동은 전문가답지 못하다.



#### 원초적 난제

- 개발 속도를 높이는 방법은 언제나 **코드를 최대한 깨끗하게 유지하는 습관**이다.



#### 깨끗한 코드라는 예술

- '코드 감각'을 통해 좋은 코드와 나쁜 코드를 구분하고, 좋은 코드로 개선할 수 있다.

- '코드 감각'은 타고날 수도, 투쟁해서 얻어야할 수도 있다.



#### 깨끗한 코드란?

**유명하고 노련한 프로그래머들의 의견**

- 비야네 스트롭스트룹 (C++ 창시자)
  - 우아하고 효율적인 코드
    - 우아한 → 보기에 즐거운
    - 효율적인 → 속도 뿐만 아니라 CPU 자원을 낭비하지 않는
  - 간단한 논리로 버그가 숨어들지 못하게 만든다.
  - 의존성을 최대한 줄여 유지보수가 쉽도록 만든다.
  - 깨끗한 코드는 한 가지에 '집중'한다.
- 그래디 부치
  - 단순하고 직접적 → '가독성'
  - 설계자의 의도를 드러내는 코드
  - 명쾌한 추상화와 단순한 제어문으로 가득하다.
    - 명쾌한 → 코드는 추측이 아니라 사실에 기반해야 하며, 반드시 필요한 내용만 담아야 한다.
- 데이브 토마스 (OTI 창립자)
  - 작성자가 아닌 사람도 읽기 쉽고 고치기 쉬운 코드
  - 테스트 케이스가 존재하는 코드
    - 단위 테스트 케이스, 인수 테스트 케이스
  - 의존성 최소, 각 의존성을 명확히 정의한다.
  - 코드는 문학적으로 표현해야 한다. → 인간이 읽기 좋은 코드

- 마이클 페더스
  - 주의 깊게 작성한 코드
  - 고칠 곳이 없는 코드
- 론 제프리스
  - 중복 피하기
  - 한 기능만 수행하기
  - 표현력 높이기
  - 간단한 추상화 고려하기

- 워드 커닝햄 (wiki 창시자)
  - 짐작했던 기능을 각 루틴이 그대로 수행하는 코드



### Robert C. Martin(저자) 생각

- 이 책은 오브젝트 멘토 진영이 생각하는 깨끗한 코드를 설명한다.
  - 깨끗한 변수 이름 / 깨끗한 함수 / 깨끗한 클래스 등
  - 절대적으로 '옳다'라는 단정은 금물



### 우리는 저자다

- 우리는 저자다. → 저자에게는 독자가 있다. → 저자에게는 독자와 잘 소통할 책임도 있다.

- 코드를 짤 때 자신이 "저자"라는 사실을, 우리의 노력을 보고 판단을 내릴 "독자"가 있다는 사실을 기억하자.
- 서둘러 끝내고, 쉽게 짜려면 **읽기 쉽게** 만들면 된다.
  - 주변 코드를 읽지 않으면 새 코드를 짜지 못한다.
  - 주변 코드가 읽기 어려우면 새 코드를 짜기 어렵다.



### 보이스카우트 규칙

- 시간이 지나도 언제나 깨끗하게 유지해야 한다.

- 미국 보이스카우트 규칙) 캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라

  → 한꺼번에 많은 시간과 노력을 투자해 코드를 정리할 필요 없이, 하나씩 개선해 나가자.



### 결론

- 예술에 대한 책을 읽는다고 예술가가 된다는 보장이 없듯이, 이 책을 읽는다고 뛰어난 프로그래머가 된다는 보장은 없다.
- 단지 뛰어난 프로그래머가 생각하는 방식과 그들이 사용하는 기술과 기교와 도구를 소개할 뿐이다.
- **연습하자!**